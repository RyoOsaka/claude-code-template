# AI Review 設定ファイル
# 各観点の有効/無効、重要度を設定できます

# レビュー実行モード
# - unified: 全観点をまとめて1回のAPIコールでレビュー（コスト低、速い）
# - separate: 観点ごとに個別にAPIコール（精度高、コスト高）
mode: unified

# レビュー観点の設定
reviews:
  # === 汎用観点（デフォルトON） ===

  - name: security
    enabled: true
    severity: error  # error/warning/info
    description: セキュリティの問題を検出
    checks:
      - SQLインジェクション
      - XSS（クロスサイトスクリプティング）
      - コマンドインジェクション
      - 認証・認可の欠陥
      - 秘密情報のハードコード
      - 安全でない依存関係

  - name: performance
    enabled: true
    severity: warning
    description: パフォーマンスの問題を検出
    checks:
      - N+1クエリ
      - 不要なループ・再計算
      - メモリリーク
      - 不要な再レンダリング（React）
      - 重い処理のブロッキング

  - name: error-handling
    enabled: true
    severity: warning
    description: エラーハンドリングの問題を検出
    checks:
      - 非同期処理の例外処理漏れ
      - エラーの握りつぶし
      - 不適切なエラーメッセージ
      - リソースのクリーンアップ漏れ

  - name: maintainability
    enabled: true
    severity: info
    description: 可読性・保守性の問題を検出
    checks:
      - 複雑すぎる関数
      - マジックナンバー
      - 不適切な命名
      - 重複コード
      - 長すぎる関数・ファイル

  # === プロジェクト固有観点（デフォルトOFF） ===

  - name: architecture
    enabled: false
    severity: warning
    description: アーキテクチャ違反を検出
    prompt_file: prompts/architecture.md

  - name: coding-style
    enabled: false
    severity: info
    description: コーディング規約違反を検出（CLAUDE.mdルール準拠）
    prompt_file: prompts/coding-style.md

  - name: business-logic
    enabled: false
    severity: warning
    description: ビジネスロジックの問題を検出
    prompt_file: prompts/business-logic.md

# 除外設定
exclude:
  # レビュー対象から除外するファイルパターン
  paths:
    - "*.lock"
    - "*.min.js"
    - "*.min.css"
    - "dist/**"
    - "build/**"
    - "node_modules/**"
    - "*.generated.*"

  # 除外するファイルサイズ（バイト）
  max_file_size: 100000

# 出力設定
output:
  # コメントの言語
  language: ja

  # 問題がない場合もコメントするか
  comment_on_success: false

  # 重要度ごとの絵文字
  emoji:
    error: "🚨"
    warning: "⚠️"
    info: "💡"
